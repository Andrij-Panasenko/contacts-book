import{a as h,u as b,b as j,r as N,e as v,j as e,L as y,f as k}from"./index-YtUJEYEK.js";import{b as w,c as F,F as _,a as S,I as C,B as I}from"./selectors-CBpiwXt3.js";import{_ as L}from"./index-Dq6BoHiP.js";function B(){var m,d,o,x,u,f;const a=h(w),p=h(F),i=b(),r=j(),n=a&&a.length>0?{firstName:(d=(m=a[0].fields["first name"])==null?void 0:m[0])==null?void 0:d.value,lastName:(x=(o=a[0].fields["last name"])==null?void 0:o[0])==null?void 0:x.value,email:(f=(u=a[0].fields.email)==null?void 0:u[0])==null?void 0:f.value}:null;N.useEffect(()=>{i(v(r.id))},[r.id,i]);const g=s=>{const t=Object.values(s).flatMap(l=>l.split(" ").filter(Boolean));if(!t.length){L.error("You can't add empty tags");return}i(k({id:r.id,newTags:t}))};return e.jsx(e.Fragment,{children:a!=null&&a.length?a.map(s=>{var t;return e.jsxs("div",{className:"max-w-xl mx-auto p-6 rounded bg-gray-100",children:[e.jsxs("div",{className:"flex gap-3 items-center mb-6",children:[e.jsx("img",{src:s.avatar_url,alt:"User photo",className:"w-20 h-20 rounded-full "}),e.jsxs("div",{children:[e.jsx("h2",{className:"capitalize font-medium text-base text-black inline",children:n.firstName}),"Â ",e.jsx("h2",{className:"capitalize font-medium text-base text-black inline",children:n.lastName}),e.jsx("p",{className:"font-medium text-base text-black mb-2",children:n.email})]})]}),e.jsx("h2",{className:"capitalize font-medium text-base text-black mb-3",children:"Tags"}),s.tags.length?e.jsx("ul",{className:"flex flex-wrap gap-2 mb-9",children:(t=s.tags)==null?void 0:t.map((l,c)=>e.jsx("li",{className:"bg-slate-300 rounded font-medium text-sm text-center flex flex-wrap p-2",children:l.tag},c))}):e.jsx("h2",{className:"font-medium text-base text-black mb-9",children:"There are no any added tags yet"}),e.jsx(_,{initialValues:{add_tag:""},onSubmit:(l,c)=>{g(l),c.resetForm()},children:e.jsx(S,{children:e.jsxs("div",{className:"space-y-6 flex flex-col",children:[e.jsx(C,{name:"add_tag",placeholder:"Add new tag"}),e.jsx(I,{disabled:p,type:"submit",children:"Add tag"})]})})})]},s.id)}):e.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[e.jsx("h1",{className:"font-bold text-2xl",children:"Sorry. Seems like requested resource is not exist anymore"}),e.jsxs(y,{to:"/",className:"flex gap-2 items-center",children:[e.jsx("span",{class:"material-symbols-outlined",children:"arrow_back"})," Return to main page"]})]})})}export{B as default};
